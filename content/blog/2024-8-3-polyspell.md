---
title: PolySpell——Where Shapes Cast Spells
description: Dive into a world where your creativity and strategy shape the outcome, and every decision leads to a new adventure.
date: 2024-08-03
image: /img/neon.gif
minRead: 8
author:
  name: Weizheng Liang
  avatar:
    src: /img/profile.png
    alt: Weizheng Liang
---

<div class="project-info-grid">
  <div class="project-info-item">
    <strong>Link</strong><br>
     <a href="https://play.unity.com/en/games/1e487e88-1290-4639-9562-490eca0f9a66/polyspell-v01" target="_blank" class="text-blue-600">
      PolySpell——Where Shapes Cast Spells
    </a>
  </div>
  <div class="project-info-item">
    <strong class="project-info-label">Tool</strong><br>
    C+  &nbsp;  Unity  &nbsp;  UI & UX Design
  </div>
  <div class="project-info-item">
    <strong class="project-info-label">Role</strong><br>
    Solo Developer
  </div>
  <div class="project-info-item">
    <strong class="project-info-label">Genre</strong><br>
    Puzzle Strategy
  </div>
</div>

It all started with a simple question: What if a game could teach players to see patterns in chaos? This question sparked the journey that led to the creation of ‘PolySpell,’ a game where every polygon tells a story. Dive into a world where your creativity and strategy shape the outcome, and every decision leads to a new adventure.

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/qudrilateral_form.png" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">PolySpell gameplay screenshot: Bob creating a qudrilateral trail to cast a spell</figcaption>
</figure>

## Core Features Pattern-Based Combat

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/Pattern_Based_Combat_003.gif" class="blog-img-small" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Create polygonal trails to trigger various magical effects</figcaption>
</figure>

## Vibrant Neon Aesthetic

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/Vibrant_Neon_Aesthetic.gif" class="blog-img-small" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Immerse yourself in a colorful, fast-paced world</figcaption>
</figure>

## Strategic Energy Management

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/Strategic_Energy_Management.gif" class="blog-img-small" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Balance spell-casting with energy conservation</figcaption>
</figure>

## Dynamic Difficulty

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/Dynamic_Difficulty.gif" class="blog-img-small" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Face evolving challenges as you progress</figcaption>
</figure>

## Development Journey

### Conceptualization and Prototyping

The project began with brainstorming sessions aimed at defining the core gameplay mechanics and visual style. The concept of using polygonal patterns to trigger various effects quickly became central to the project. Initially, the idea was for players to create these polygonal patterns by clicking on chosen vertices with the mouse.

#### Inspiration

However, this initial vision evolved during development. I was inspired by recalling the very first game I ever played on a PC, 3D Pinball for Windows - Space Cadet. This memory led me to incorporate a similar mechanic where the ball bounces dynamically within the game, mirroring the engaging physics of Space Cadet.

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/3d_pinball.gif" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">3D Pinball for Windows - Space Cadet</figcaption>
</figure>

#### Early Design Sketches

These sketches document the evolution of the core gameplay mechanics:

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/PrototypePage1.png" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Step 1</figcaption>
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/PrototypePage2.png" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Step 2</figcaption>
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/PrototypePage3.png" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Step 3</figcaption>
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/PrototypePage4.png" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Step 4</figcaption>
</figure>

### Initial Prototype

The initial prototype focused on implementing the core mechanics of the game. I started with the ball physics and basic polygon creation system. The prototype helped validate the fun factor of drawing shapes and watching the ball interact with them. This early version used simple visuals but established the foundation for the game's unique gameplay loop.

#### Early Gameplay Demo

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/initial_prototype.gif" class="blog-img" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Early prototype showing basic shape creation and ball physics</figcaption>
</figure>

### Playtesting and Refinement

Throughout the development process, I maintained close communication with playtesters through our WeChat group. Their feedback was instrumental in identifying issues, suggesting improvements, and validating new features. This collaborative approach helped shape the game into a more polished and enjoyable experience.

#### Player Experience Feedback

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/player_feedback_1.png" class="blog-img-xs" alt="img" loading="lazy" />
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/player_feedback_2.png" class="blog-img-xs" alt="img" loading="lazy" />
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/player_feedback_3.png" class="blog-img-xs" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Players sharing their gameplay experiences and suggestions for improvements</figcaption>
</figure>

#### Bug Discovery

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/bug_feedback_1.png" class="blog-img-xs" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Critical bug report that helped improve game stability</figcaption>
</figure>

#### New Version Release

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/player_feedback_1.png" class="blog-img-xs" alt="img" loading="lazy" />
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/player_feedback_2.png" class="blog-img-xs" alt="img" loading="lazy" />
</figure>

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/player_feedback_3.png" class="blog-img-xs" alt="img" loading="lazy" />
  <figcaption class="blog-img-caption">Announcing new features and bug fixes, along with player reactions</figcaption>
</figure>

## Game Flow and Key Code Snippets

<figure class="blog-img-container">
  <img src="/img/projects/polyspell/flow.png" class="blog-img-large" alt="img" loading="lazy" />
</figure>

### Key Algorithms

#### Polygon Recognition

Winding number algorithm for accurate point-in-polygon detection

```csharp
bool IsPointInPolygon(Vector2 point, Vector2[] vertices) {
    int windingNumber = 0;
    for (int i = 0; i < vertices.Length; i++) {
        int next = (i + 1) % vertices.Length;
        if (vertices[i].y <= point.y) {
            if (vertices[next].y > point.y && IsLeft(vertices[i], vertices[next], point) > 0)
                windingNumber++;
        }
        else if (vertices[next].y <= point.y && IsLeft(vertices[i], vertices[next], point) < 0)
            windingNumber--;
    }
    return windingNumber != 0;
}
```

#### Dynamic Ball Physics

Custom physics system for smooth ball movement and collision handling

```csharp
void UpdateBallPhysics(Ball ball) {
    Vector2 velocity = ball.GetVelocity();
    float speed = velocity.magnitude;

    // Apply energy loss over time
    speed *= (1 - energyLossRate * Time.deltaTime);

    // Update velocity with new speed
    ball.SetVelocity(velocity.normalized * speed);

    // Check for collisions and apply bounce effects
    HandleCollisions(ball);
}
```

## Learning Outcome

Deepened understanding of game physics, procedural generation, and the importance of iterative design based on player feedback

### Conclusion

PolySpell successfully achieved its goal of creating an engaging 2D roguelike that merges action, strategy, and puzzle-solving through pattern-based spell casting. The game currently includes:

- A fully developed initial level that introduces and balances the core mechanics effectively.
- Smooth, responsive gameplay optimized for desktop platforms, with future plans for expansion to mobile devices.
- A cohesive neon-themed aesthetic that blends custom and sourced assets seamlessly.

### Reflection

Developing PolySpell was a transformative experience that taught me invaluable lessons. From integrating the winding number algorithm to refining gameplay based on user feedback, this project emphasized the importance of persistence and maintaining a holistic view of development. It reinforced the critical role of feedback and iterative design in crafting a polished and engaging final product.

## Future Plans

While PolySpell has achieved its initial goals, there are exciting features planned for future updates:

- **Multiplayer Mode**: Implementing a competitive two-player mode where players can challenge each other's spell-casting skills in real-time duels.
- **Online Leaderboard**: Adding a global ranking system for single-player mode, allowing players to compete for high scores and compare their performance with the community.

These additions aim to enhance the social aspect of the game while maintaining its core focus on creative spell-casting and strategic gameplay.

**Play game**: [PolySpell——Where Shapes Cast Spells](https://play.unity.com/en/games/1e487e88-1290-4639-9562-490eca0f9a66/polyspell-v01)

**Source code**: [Source Code of PolySpell](https://github.com/WeizhengLiang/PolySpell).
